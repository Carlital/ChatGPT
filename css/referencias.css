/* ===========================
   ChatGPT EDU – Referencias (COMPLETO)
   =========================== */

/* --------- Tokens --------- */
:root{
  --c-green:#10A37F; --c-green-2:#13B68A;
  --c-bg:#0e1116; --c-surface:rgba(23,27,34,.68);
  --c-text:#ECECF1; --c-muted:#cfd4dc; --c-dim:#6b7280;
  --c-border:rgba(255,255,255,.08);

  --radius-lg:22px; --radius-md:14px; --radius-sm:8px;
  --max:1180px; --t:260ms; --ease:cubic-bezier(.2,.9,.2,1);

  --shadow-soft:0 16px 40px rgba(0,0,0,.45);
  --shadow-card:0 24px 64px rgba(0,0,0,.6);

  /* Gutter fluido para que no quede pegado a la izquierda */
  --gutter: clamp(18px, 5vw, 46px);
}

/* --------- Base --------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--c-bg); color:var(--c-text);
  font-family:Inter, Poppins, system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans",sans-serif;
  line-height:1.65;
}
.container{
  max-width:var(--max);
  margin:0 auto;
  padding:28px;
  padding-left:var(--gutter);
  padding-right:var(--gutter);
}
.lead{font-size:1.05rem;color:var(--c-muted);max-width:65ch;margin:0}

/* --------- Header / Nav — usar estilo del footer para coherencia --------- */
.site-header{
  position:sticky;
  top:0;
  z-index:100;
  background: radial-gradient(circle at 20% 20%, rgba(16,163,127,.08) 0%, rgba(0,0,0,0) 60%), var(--c-surface-solid);
  color:#d1d5db;
  padding-top:12px;
  border-bottom:1px solid rgba(255,255,255,.05);
}

.nav{
  max-width:var(--max);
  margin:0 auto 14px;
  padding:10px 14px;
  border:1px solid rgba(255,255,255,.05);
  border-radius:20px;
  background: radial-gradient(circle at 0% 0%, rgba(16,163,127,.04) 0%, rgba(0,0,0,0) 70%), var(--c-surface-solid);
  backdrop-filter:saturate(120%) blur(8px);
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap:16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.45);
}

.logo{
  display:flex;align-items:center;gap:10px;color:#fff;text-decoration:none;font-weight:800;
  font-size:.95rem;letter-spacing:-.03em;white-space:nowrap
}
.logo::before{ display:none } /* ocultar el círculo decorativo cuando se use imagen */

/* Estilo para la imagen del logo */
.logo-img{
  width:36px;
  height:36px;
  border-radius:8px;
  object-fit:cover;
  box-shadow:0 6px 18px rgba(0,0,0,.45);
  border:1px solid rgba(255,255,255,.04);
  background:linear-gradient(180deg,var(--c-green),var(--c-green-2));
}

/* Asegura el texto del logo mantenga el estilo (puede usarse si quieres ocultar texto en móviles) */
.logo-text{ color:inherit; font-weight:800; font-size:.95rem }

/* Ajustes responsivos: reducir imagen en pantallas pequeñas */
@media(max-width:600px){
  .logo-img{ width:28px; height:28px; border-radius:6px }
  .logo-text{ font-size:.85rem }
}

.menu{list-style:none;margin-left:auto;padding:0;display:flex;flex-wrap:wrap;gap:6px}
.menu a{
  display:block;padding:10px 12px;border-radius:var(--radius-md);color:#e8eaef;text-decoration:none;position:relative;
  font-size:.9rem;line-height:1.2rem;transition:color var(--t)
}
.menu a::after{
  content:"";position:absolute;left:12px;right:12px;bottom:6px;height:2px;
  background:linear-gradient(90deg, var(--c-green), var(--c-green-2));border-radius:2px;
  transform:scaleX(0);transform-origin:left;transition:transform var(--t) var(--ease)
}
.menu a:hover{background:rgba(16,163,127,.08)}
.menu a:hover::after,.menu a.active::after{transform:scaleX(1)}
.menu a.active{color:#c7ffeb;background:rgba(16,163,127,.08)}
@media(max-width:600px){
  .nav{flex-direction:column;align-items:stretch}
  .menu{width:100%;justify-content:space-between;flex-wrap:wrap}
  .menu a{flex:1 1 auto;text-align:center}
}

/* --------- UI chips / cards --------- */
.badge{
  display:inline-flex;align-items:center;gap:.4rem;font-size:.7rem;line-height:1rem;font-weight:500;color:#afffe6;
  background:rgba(16,163,127,.12);border:1px solid rgba(16,163,127,.4);border-radius:var(--radius-sm);
  padding:.4rem .6rem;box-shadow:0 12px 32px rgba(0,0,0,.8)
}
.badge-dot{
  width:6px;height:6px;background:radial-gradient(circle at 50% 50%, #1ce7b2 0%, #10A37F 70%);
  border-radius:999px;box-shadow:0 0 12px rgba(16,163,127,.8)
}

.card{
  background:radial-gradient(circle at 0% 0%, rgba(255,255,255,.06) 0%, rgba(255,255,255,0) 70%),
             linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  border:1px solid var(--c-border);border-radius:var(--radius-lg);padding:22px;box-shadow:var(--shadow-soft);
  position:relative;transition:box-shadow var(--t) var(--ease), transform var(--t) var(--ease)
}
.card:hover{box-shadow:var(--shadow-card);transform:translateY(-1px)}

/* Más aire dentro de la tarjeta principal */
.container > .card{ padding: clamp(20px, 2.2vw, 30px); }

/* --------- Titles --------- */
.fx-title{
  color:#fff;margin:0 0 .5rem;letter-spacing:-.04em;line-height:1.12;font-weight:700;
  font-size:clamp(1.9rem, 2.2vw, 2.2rem)
}
.fx-subtitle{
  color:#fff;margin:0 0 .5rem;letter-spacing:-.03em;line-height:1.2;font-weight:600;font-size:1.2rem
}

/* --------- Lists (referencias) --------- */
ol{margin:0;padding-left:1.25rem}
ol li{ margin:.4rem 0;color:var(--c-text) }
ol li cite{font-style:normal;color:#fff}
.footer-text{font-size:.85rem;line-height:1.3rem;color:var(--c-dim);margin:.75rem 0 0;max-width:70ch}

/* --------- Utilidades --------- */
.container > .card + .card{margin-top:24px}
.lead + *{margin-top:12px}

/* --------- Footer --------- */
.site-footer{position:relative;background:linear-gradient(180deg, rgba(16,163,127,.08), rgba(0,0,0,0));color:#d1d5db;padding-top:2rem;padding-bottom:2rem;border-top:1px solid rgba(255,255,255,.05)}
.footer-accent{
  position:absolute;top:0;left:50%;transform:translateX(-50%);width:100%;height:3px;
  background:radial-gradient(circle at 15% 50%, rgba(16,163,127,.8) 0%, rgba(16,163,127,0) 70%);border-radius:999px
}
.footer-inner{
  max-width:1280px;margin:0 auto;padding:1rem 1.5rem 2rem;display:grid;gap:2rem;
  grid-template-columns:repeat(auto-fit, minmax(min(220px,100%), 1fr))
}
.footer-logo{display:flex;align-items:center;gap:.5rem;font-weight:600;color:#fff;font-size:1rem;margin-bottom:.5rem}
.footer-logo-icon{
  background:rgba(16,163,127,.15);color:var(--c-green);border:1px solid rgba(16,163,127,.4);
  width:32px;height:32px;border-radius:var(--radius-md);display:grid;place-items:center;font-size:.9rem
}
.footer-logo-text{color:#fff}
.footer-desc{font-size:.85rem;line-height:1.3rem;color:#9ca3af;margin:0}
.footer-heading{color:#fff;font-size:.8rem;font-weight:600;letter-spacing:.02em;text-transform:uppercase;margin-bottom:.75rem}
.footer-text{font-size:.85rem;line-height:1.3rem;color:#9ca3af;margin:0 0 .75rem}
.footer-list{list-style:none;padding:0;margin:0}
.footer-list li{font-size:.85rem;line-height:1.4rem;color:#d1d5db;display:flex;align-items:center;gap:.5rem}
.footer-list li::before{content:"";width:6px;height:6px;border-radius:999px;background:var(--c-green)}
.footer-bottom{border-top:1px solid rgba(255,255,255,.05);padding-top:1rem;max-width:1280px;margin:0 auto;padding-left:1.5rem;padding-right:1.5rem}
.footer-bottom-text{font-size:.75rem;line-height:1.3rem;color:var(--c-dim);text-align:center;max-width:70ch;margin-left:auto;margin-right:auto}

/* --------- Botones básicos --------- */
.btn{
  position:relative; display:inline-flex; align-items:center; gap:.5rem;
  padding:.5rem .8rem; border-radius:var(--radius-md); border:0;
  background:linear-gradient(180deg,var(--c-green),#0b8e6e);
  color:#fff; font-weight:600; font-size:.9rem; line-height:1.2rem;
  box-shadow:inset 0 -2px 0 rgba(0,0,0,.2), 0 0 18px rgba(16,163,127,.25);
  text-decoration:none; cursor:pointer; transition:filter var(--t), transform var(--t);
}
.btn:hover{ filter:brightness(1.06) }
.btn:active{ transform:translateY(1px) }
.btn.ghost{
  background:transparent; color:#eafaf5; border:1px solid var(--c-green);
  box-shadow:0 0 16px rgba(16,163,127,.28);
}

/* --------- Tabs / barra superior --------- */
.ref-tabs{ padding-left:2px; padding-right:2px }
.ref-tabs .btn{ padding:.45rem .7rem }
.ref-tabs .btn[aria-selected="true"]{
  background:rgba(16,163,127,.16);
  border:1px solid rgba(16,163,127,.45);
  box-shadow:0 0 24px rgba(16,163,127,.28), inset 0 0 0 1px rgba(255,255,255,.06);
  color:#dffef3;
}
.ref-tabs .btn:focus-visible{
  outline:2px solid rgba(16,163,127,.6);
  outline-offset:2px;
  border-radius:calc(var(--radius-md) + 2px);
}

/* --------- Paneles --------- */
.ref-panel{ animation: refFade .28s var(--ease) both }
@keyframes refFade{ from{opacity:.6; transform:translateY(4px)} to{opacity:1; transform:none} }

/* --------- Buscador --------- */
#ref-search{
  height:38px;
  background:#0f141a;
  border:1px solid var(--c-border);
  color:var(--c-text);
  border-radius:10px;
  padding:.55rem .7rem;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.04);
}
#ref-search::placeholder{ color:#7f8b97 }
#ref-search:focus{ outline:2px solid rgba(16,163,127,.45); outline-offset:2px }
#clear-filter{ height:38px; padding:.45rem .7rem }

/* --------- Lista de referencias (acordeones) — MEJORADA --------- */
/* Mejora visual: tarjetas, numeración, cheurón y transiciones */
.ref-list{
  /* mantengo grid pero reinicio contador para numeración */
  list-style:none !important;
  margin:0 !important;
  padding-left:8px !important;
  display:grid;
  gap:.8rem;
  counter-reset: ref;
}

/* incrementa contador por cada LI directo (mantiene compatibilidad con la estructura) */
.ref-list > li{
  counter-increment: ref;
}

/* Tarjeta principal de cada referencia */
.ref-item{
  position:relative;
  border:1px solid rgba(255,255,255,.06);
  border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.005));
  padding:.7rem .9rem .8rem 64px; /* espacio para numeración a la izquierda */
  transition: transform var(--t) var(--ease), box-shadow var(--t) var(--ease), background var(--t);
  box-shadow: 0 6px 18px rgba(0,0,0,.45);
  overflow:visible;
}

/* Elevación al pasar el ratón y en foco */
.ref-item:hover,
.ref-item:focus-within{
  transform:translateY(-4px);
  box-shadow: 0 28px 50px rgba(0,0,0,.6);
}

/* Numeración visual (reemplaza punto) */
.ref-item::before{
  content: counter(ref);
  position:absolute;
  left:14px;
  top:50%;
  transform:translateY(-50%);
  width:36px;
  height:36px;
  border-radius:10px;
  display:grid;
  place-items:center;
  font-weight:700;
  font-size:.9rem;
  color:#002019;
  background:linear-gradient(180deg,var(--c-green),var(--c-green-2));
  box-shadow: 0 8px 20px rgba(16,163,127,.18), 0 2px 6px rgba(0,0,0,.3);
  border:1px solid rgba(255,255,255,.06);
}

/* Estado abierto: acento y fondo ligeramente distinto */
.ref-item[open]{
  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
  border-color: rgba(16,163,127,.28);
}

/* Resumen (summary) — layout y el cheurón */
.ref-item > summary{
  cursor:pointer;
  list-style:none;
  color:#fff;
  font-weight:700;
  display:flex;
  align-items:center;
  gap:.6rem;
  font-size:1rem;
  padding:4px 6px;
  width:100%;
}
.ref-item > summary::-webkit-details-marker{ display:none }

/* Cheurón creado con pseudo-elemento, se rota con el estado open */
.ref-item > summary::after{
  content: "";
  width:10px;
  height:10px;
  margin-left:auto;
  border-right:2px solid rgba(255,255,255,.55);
  border-bottom:2px solid rgba(255,255,255,.55);
  transform: rotate(-45deg);
  transition: transform var(--t) var(--ease), border-color var(--t);
  display:inline-block;
  margin-right:6px;
  opacity:.9;
}

/* Cuando el detalle está abierto rotamos el cheurón */
.ref-item[open] > summary::after{
  transform: rotate(45deg);
  border-color:var(--c-green-2);
}

/* Focus visible para accesibilidad */
.ref-item > summary:focus-visible{
  outline:2px solid rgba(16,163,127,.55);
  outline-offset:4px;
  border-radius:8px;
}

/* Cuerpo interior: botones y enlaces alineados */
.ref-item .ref-body{
  display:flex;
  flex-wrap:wrap;
  gap:.55rem;
  margin-top:.6rem;
  align-items:center;
}

/* Botones dentro de item: tamaño más compacto y contraste */
.ref-item a.btn, .ref-item button.btn{
  padding:.45rem .7rem;
  font-size:.9rem;
}

/* Ajustes móviles: reducir padding para pantallas pequeñas */
@media (max-width:560px){
  .ref-item{ padding:.65rem .7rem .7rem 54px }
  .ref-item::before{ left:10px; width:30px; height:30px; font-size:.85rem; border-radius:8px }
  .ref-item > summary{ font-size:.95rem }
}

/* --------- Modo reducido de movimiento --------- */
@media (prefers-reduced-motion: reduce){
  .ref-panel{ animation:none }
  .btn{ transition:none }
}

/* --------- Responsivo pequeño --------- */
@media (max-width:720px){
  :root{ --gutter:18px; }
  .container{padding:20px}
  .fx-title{font-size:clamp(1.6rem, 6vw, 1.9rem)}
  .lead{font-size:1rem}
  .ref-tabs{ gap:.4rem }
  #ref-search{ min-width:180px }
}
